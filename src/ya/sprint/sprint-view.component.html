<md-toolbar color="primary" class="section-nav-bar">
  <span>Sprint</span>
  <span class="toolbar-spacer"></span>
  <button md-icon-button [mdMenuTriggerFor]="menu">
    <md-icon>more_vert</md-icon>
  </button>
  <md-menu #menu="mdMenu">
    <button md-menu-item (click)="editSprint(sprint)">
      <md-icon>edit</md-icon>
      <span>Edit</span>
    </button>
    <button md-menu-item disabled>
      <md-icon>delete</md-icon>
      <span>Delete</span>
    </button>
  </md-menu>
</md-toolbar>
<div class=global-container>
  <div class="positioner">

    <md-card class="sprint-card">
      <div class="sprint-title">
        <h3>{{sprint?.name}}</h3>
      </div>
      <img md-card-image src="assets/img/story-background.png">
      <md-progress-bar [mode]="'determinate'" [value]="progressAsPercentage()"></md-progress-bar>
      <md-card-actions>
        <button md-button (click)="startNewDailyMeeting()" [disabled]="!(stories?.length > 0)"><md-icon>today</md-icon> START DAILY MEETING</button>
        <button md-button (click)="addStory()"> ADD STORY</button>
      </md-card-actions>
    </md-card>

    <section-title>Burndown Chart:
      <section-title-highlight>{{(sprint)?.meetingNumber}} days</section-title-highlight>
    </section-title>


    <div fxLayout fxLayoutWrap="wrap" fxLayoutAlign="start start">
      <div class="flex-item" fxFlex="5%">
      </div>
      <div class="flex-item" fxFlex="90%">
        <sprint-burndown [stories]="stories" [sprint]="sprint"></sprint-burndown>
      </div>
      <div class="flex-item" fxFlex="5%">
      </div>
    </div>


    <section-title>Sprint Backlog:
      <section-title-highlight>{{ stories?.length }} stories</section-title-highlight>
    </section-title>

    <sprint-story-grid [stories]="stories" (onAdd)="addStory()"></sprint-story-grid>

    <section-title>
      <section-title-highlight>{{ progressHistory?.length }}</section-title-highlight> Days Schedule</section-title>
    <sprint-progress-schedule [progressHistory]="progressHistory"></sprint-progress-schedule>

    <sprint-status [sprint]="sprint"></sprint-status>

    <ya-upload></ya-upload>
  </div>

</div>